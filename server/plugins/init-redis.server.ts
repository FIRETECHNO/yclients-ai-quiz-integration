// server/plugins/init-redis.server.ts

// –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—à–∏ —Ö–µ–ª–ø–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Redis
import { useRedis } from "../utils/redis";
import { useServices } from "../utils/services";
import services from "../utils/seeds/services";
// defineNitroPlugin - —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≥–æ–≤–æ—Ä–∏—Ç Nuxt,
// —á—Ç–æ —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –ø–ª–∞–≥–∏–Ω.
export default defineNitroPlugin(async (nitroApp) => {
  // –≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω —Ä–∞–∑, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä Nitro (—Å–µ—Ä–¥—Ü–µ Nuxt) –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω.
  console.log("üöÄ –°–µ—Ä–≤–µ—Ä–Ω—ã–π –ø–ª–∞–≥–∏–Ω –∑–∞–ø—É—â–µ–Ω! –ù–∞—á–∏–Ω–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö...");
  //const { array } = useServices.extractData(services);
  //useRedis.saveItemsToHash("services", array);
  try {
    // –ó–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–∞—è –¥—Ä—É–≥–∞—è –ª–æ–≥–∏–∫–∞:
    // - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –¥—Ä—É–≥–∏–º –±–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö
    // - "–ü—Ä–æ–≥—Ä–µ–≤" –∫—ç—à–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö –∏–∑ MongoDB
    // - –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
  } catch (error) {
    console.error(
      "‚ùå –û—à–∏–±–∫–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:",
      error
    );
  }
});
